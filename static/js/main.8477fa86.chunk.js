(this["webpackJsonpreact-pixel"]=this["webpackJsonpreact-pixel"]||[]).push([[0],{205:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),r=n(48),a=n.n(r),s=(n(87),n(6)),i=(n(88),n(89),n(3));var u=n(4),l=n.n(u),d=n(29),b=n(82);n(92),n(93),n(95);function j(e){e.currentColor;var t=e.dimension,n=e.zoom,o=e.pid,r=e.rid,a=Object(c.useState)("#fff"),u=Object(s.a)(a,2),l=u[0],d=(u[1],Object(c.useState)(l)),b=Object(s.a)(d,2),j=(b[0],b[1],Object(c.useState)(!0)),m=Object(s.a)(j,2),f=(m[0],m[1],Object(c.useState)(!1)),O=Object(s.a)(f,2),h=O[0];O[1];return Object(i.jsx)("div",{className:"pixel",id:"[".concat(r,", ").concat(o,"]"),onMouseOver:function(e){e.target.style.border="1px solid black"},onMouseLeave:function(e){e.target.style.border="none"},style:{boxShadow:h?"inset 0px 0px 0px 2px white":"",backgroundColor:l,width:"".concat(n/t,"px"),height:"".concat(n/t,"px")}})}n(96);function m(e){for(var t=e.currentColor,n=e.dimension,c=e.zoom,o=e.rid,r=[],a=0;a<n;a++)r.push(Object(i.jsx)(j,{rid:o,pid:a,zoom:c,dimension:n,currentColor:t},a));return Object(i.jsx)("div",{className:"row",children:r})}var f=o.a.memo((function(e){for(var t=e.dimension,n=e.currentColor,o=e.zoom,r=Object(c.useRef)(),a=[],s=0;s<t;s++)console.log("redrawing"),a.push(Object(i.jsx)(m,{rid:s,zoom:o,dimension:t,currentColor:n},s));return Object(i.jsx)("div",{id:"canvas",ref:r,children:a})})),O=n(81);function h(e){return Object(i.jsx)(O.a,{disableAlpha:!0,onChangeComplete:function(t){return e.changeColor(t.hex)}})}var g=n(83);function v(e){var t=e.currentColor,n=e.size,o=Object(c.useState)([]),r=Object(s.a)(o,2),a=(r[0],r[1]),i=Object(c.useState)(!1),u=Object(s.a)(i,2),b=(u[0],u[1]),j=!1,m=[];Object(c.useEffect)((function(){return console.log("attaching event listener to brush with color: "+t),window.addEventListener("mousedown",v),window.addEventListener("mousemove",f),window.addEventListener("mouseleave",O),window.addEventListener("mouseup",O),function(){window.removeEventListener("mousedown",v),window.removeEventListener("mousemove",f),window.removeEventListener("mouseleave",O),window.removeEventListener("mouseup",O)}}),[t,n]);var f=function(e){j&&Math.floor(e.timeStamp)%3===0&&b((function(t){return e.target.id===t?t:(v(e),e.target.id)}))},O=function(t){j=!1,m.length>0&&(e.history(m),m=[],a((function(e){return[]})))},h=function(e){m?new Promise((function(t,n){a((function(n){var c=e[0].toString();return n.includes(c)?n:(t(),[].concat(Object(g.a)(n),[c]))})),n()})).then((function(){return m.push(e)})).catch((function(e){return e})):m.push(e)},v=function(){var e=Object(d.a)(l.a.mark((function e(c){var o,r,a,s,i,u,d,b,m,f,O,g,v,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),c.target.classList.contains("pixel")){e.next=3;break}return e.abrupt("return");case 3:return j=!0,e.next=6,JSON.parse(c.target.id);case 6:e.t0=e.sent,e.t1=c.target.style.backgroundColor,o=[e.t0,e.t1],c.target.style.backgroundColor=t,h(o),r=o[0],2===n?(a=document.getElementById("[".concat(r[0],", ").concat(r[1]+1,"]")),s=document.getElementById("[".concat(r[0],", ").concat(r[1]-1,"]")),i=document.getElementById("[".concat(r[0]+1,", ").concat(r[1],"]")),u=document.getElementById("[".concat(r[0]-1,", ").concat(r[1],"]")),a&&(h([[r[0],r[1]+1],a.style.backgroundColor]),a.style.backgroundColor=t),s&&(h([[r[0],r[1]-1],s.style.backgroundColor]),s.style.backgroundColor=t),i&&(h([[r[0]+1,r[1]],i.style.backgroundColor]),i.style.backgroundColor=t),u&&(h([[r[0]-1,r[1]],u.style.backgroundColor]),u.style.backgroundColor=t)):3===n&&(d=document.getElementById("[".concat(r[0],", ").concat(r[1]+1,"]")),b=document.getElementById("[".concat(r[0],", ").concat(r[1]-1,"]")),m=document.getElementById("[".concat(r[0]+1,", ").concat(r[1],"]")),f=document.getElementById("[".concat(r[0]-1,", ").concat(r[1],"]")),O=document.getElementById("[".concat(r[0]+1,", ").concat(r[1]+1,"]")),g=document.getElementById("[".concat(r[0]+1,", ").concat(r[1]-1,"]")),v=document.getElementById("[".concat(r[0]-1,", ").concat(r[1]+1,"]")),p=document.getElementById("[".concat(r[0]-1,", ").concat(r[1]-1,"]")),d&&(h([[r[0],r[1]+1],d.style.backgroundColor,t]),d.style.backgroundColor=t),b&&(h([[r[0],r[1]-1],b.style.backgroundColor]),b.style.backgroundColor=t),m&&(h([[r[0]+1,r[1]],m.style.backgroundColor]),m.style.backgroundColor=t),f&&(h([[r[0]-1,r[1]],f.style.backgroundColor]),f.style.backgroundColor=t),O&&(h([[r[0]+1,r[1]+1],O.style.backgroundColor]),O.style.backgroundColor=t),g&&(h([[r[0]+1,r[1]-1],g.style.backgroundColor]),g.style.backgroundColor=t),v&&(h([[r[0]-1,r[1]+1],v.style.backgroundColor]),v.style.backgroundColor=t),p&&(h([[r[0]-1,r[1]-1],p.style.backgroundColor]),p.style.backgroundColor=t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null}function p(e){var t=Object(c.useState)(e.dimension),n=Object(s.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(500),u=Object(s.a)(a,2),j=u[0],m=u[1],O=Object(c.useState)("#bbbbbb"),g=Object(s.a)(O,2),p=g[0],x=g[1],y=Object(c.useState)(!1),C=Object(s.a)(y,2),k=(C[0],C[1],Object(c.useState)(!0)),w=Object(s.a)(k,2),S=(w[0],w[1],Object(c.useState)(!1)),E=Object(s.a)(S,2),N=E[0],I=E[1],L=Object(c.useState)(1),B=Object(s.a)(L,2),z=B[0],F=B[1],T=Object(c.useState)(!1),J=Object(s.a)(T,2),q=J[0],A=J[1],M=Object(c.useState)(0),P=Object(s.a)(M,2),R=(P[0],P[1]);Object(c.useEffect)((function(){return sessionStorage.clear(),document.addEventListener("wheel",D),function(){console.log("cleaning"),document.removeEventListener("wheel",D)}}),[]);var D=function(e){e.deltaY>0?m((function(e){return e>50?e-50:e})):e.deltaY<0&&m((function(e){return e<800?e+50:e}))},H=function(e,t,n,c){if(n&&(c(!1),document.querySelector(".".concat(n)).classList.add(t),n===e.target.id))return;c(e.target.id),document.querySelector(".".concat(e.target.id)).classList.remove(t)},Y=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.querySelector("#canvas");case 2:n=e.sent,t(n).then((function(e){var t=new Image;t.src=e,document.body.appendChild(t)})).catch((function(e){console.log("gone wrong: ",e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){R((function(e){return function(e){for(var t=0;t<e.length;t++)document.getElementById("[".concat(e[t][0][0],", ").concat(e[t][0][1],"]")).style.backgroundColor=e[t][1]}(function(e){if(!e&&0!==e)return null;try{var t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(n){return console.log(n),null}}(e-1)),e-1}))};return Object(i.jsxs)("div",{className:"editor",children:[Object(i.jsxs)("nav",{className:"top-nav",children:[Object(i.jsxs)("div",{className:"dd-wrapper",children:[Object(i.jsx)("button",{id:"File",onClick:function(e){return H(e,"hidden",q,A)},children:"File"}),Object(i.jsx)("div",{className:"drop-down hidden File",children:Object(i.jsx)("button",{onClick:function(){return Y(b.a)},children:"Download"})})]}),Object(i.jsxs)("div",{className:"dd-wrapper",children:[Object(i.jsx)("button",{id:"Edit",onClick:function(e){return H(e,"hidden",q,A)},children:"Edit"}),Object(i.jsxs)("div",{className:"drop-down hidden Edit",children:[Object(i.jsx)("button",{onClick:function(){r(2*o)},children:"Resize"}),Object(i.jsx)("button",{onClick:function(){return K()},children:"Undo"})]})]}),Object(i.jsxs)("div",{className:"dd-wrapper",children:[Object(i.jsx)("button",{id:"Help",onClick:function(e){return H(e,"hidden",q,A)},children:"Help"}),Object(i.jsx)("div",{className:"drop-down hidden Help"})]})]}),Object(i.jsxs)("nav",{className:"left-nav",children:[Object(i.jsx)(h,{changeColor:function(e){x((function(t){return e}))}}),Object(i.jsxs)("div",{className:"button-wrapper",children:[Object(i.jsx)("button",{className:"left-button",onClick:function(e){var t,n;t="brush-inactive",n="brush",I(!N),document.querySelector("#".concat(n)).classList.toggle(t)},children:"Brush"}),Object(i.jsx)("div",{style:{backgroundColor:p},id:"brush",className:"brush-button brush-inactive"})]}),Object(i.jsx)("button",{onClick:function(){return F(z+1)},children:"Size +"}),Object(i.jsx)("button",{onClick:function(){return F(z-1)},children:"Size -"}),N?Object(i.jsx)(v,{history:function(e){R((function(t){return function(e,t){e||0===e||console.log("Error: Key is missing");try{sessionStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}(t,e),t+1}))},size:z,currentColor:p}):null]}),Object(i.jsx)("div",{className:"canvas-container",children:Object(i.jsx)(f,{currentColor:p,zoom:j,dimension:o})})]})}n(205);function x(e){return Object(i.jsx)("div",{className:"page-cover"})}var y=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),u=Object(s.a)(a,2),l=u[0],d=u[1],b=Object(c.useState)(16),j=Object(s.a)(b,2),m=j[0],f=j[1],O=function(e){e>=16&&e<=64&&f(e)};return Object(i.jsxs)("div",{className:"App",children:[l?Object(i.jsx)(x,{}):null,n?Object(i.jsx)(p,{dimension:m}):Object(i.jsxs)(o.a.Fragment,{children:[Object(i.jsxs)("div",{className:"homepage-header-div",children:[Object(i.jsx)("h1",{children:"React Pixel"}),Object(i.jsx)("h3",{children:"An application for creating pixel art on the web!"})]}),Object(i.jsxs)("div",{className:"dimension-div",children:[Object(i.jsxs)("h4",{children:["Canvas Size: ",Object(i.jsx)("span",{children:m})," X ",Object(i.jsx)("span",{children:m})]}),Object(i.jsx)("button",{onClick:function(){return O(m/2)},children:"-"}),Object(i.jsx)("button",{onClick:function(){return O(2*m)},children:"+"})]}),Object(i.jsx)("button",{className:"start-button",onClick:function(){return d(!0),setTimeout((function(){r(!0)}),500),void setTimeout((function(){d(!1)}),1500)},children:"START NOW"})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),C()},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},92:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){}},[[206,1,2]]]);
//# sourceMappingURL=main.8477fa86.chunk.js.map