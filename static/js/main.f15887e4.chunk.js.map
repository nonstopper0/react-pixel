{"version":3,"sources":["Modules/Store/Key.js","Modules/Editor/Panels/Undo.js","Modules/Canvas/Pixel.js","Modules/Canvas/Row.js","Modules/Canvas/Canvas.js","Modules/Editor/Panels/Colors.js","Modules/Editor/Panels/Brush.js","Modules/Modal/RoomModal.js","Modules/Modal/ResizeModal.js","Modules/Editor/Editor.js","Modules/Page Transition/Transition.js","App.js","reportWebVitals.js","index.js"],"names":["getKey","key","valueStr","sessionStorage","getItem","JSON","parse","err","console","log","UndoRedo","data","undo","i","length","toErase","document","getElementById","style","backgroundColor","Pixel","props","grid","dimension","zoom","pid","rid","className","id","onMouseOver","e","target","border","onMouseLeave","boxShadow","width","height","Row","pixels","push","Canvas","React","memo","canvasRef","useRef","rows","ref","Colors","disableAlpha","onChangeComplete","color","changeColor","hex","colors","Brush","currentColor","size","useState","setLocationArray","setLastPoint","mouseDown","currentStroke","useEffect","window","addEventListener","handleMouseClick","handleMouseMove","handleMouseUp","removeEventListener","Math","floor","timeStamp","lastPoint","history","previous","handleHistoryStore","a","preventDefault","classList","contains","storeData","location","right1","left1","top1","bottom1","rightm","leftm","topm","bottomm","rightt","rightb","leftt","leftb","RoomModal","textInput","setTextInput","handleClick","close","onChange","value","placeholder","onClick","handleNetwork","ResizeModal","setSize","prev","handleResize","webrtc","LioWebRTC","dataOnly","Editor","setDimension","setZoom","setCurrentColor","colorPalette","setColorPalette","gridLines","setGridLines","toolOpen","setToolOpen","brushSize","setBrushSize","modalOpen","openModal","dropDownOpen","setDropDownOpen","isOnline","setIsOnline","number","setNumber","message","setMessage","messagesRef","on","name","peer","type","clear","leaveRoom","handleZoom","deltaY","handleColor","convert","c","convertedColor","test","join","substring","arr","indexOf","handleTool","classToAdd","idToFind","previousTool","querySelector","add","remove","toggle","handleOpenClose","variable","setVar","downloadImage","canvas","then","Image","src","link","createElement","display","setAttribute","body","appendChild","click","catch","saveBoard","saveArray","k","toSave","stringify","JSONed","handleSave","localStorage","setItem","handleLoad","colorArray","handleReset","runningTotal","toSvg","disabled","num","toRedo","shout","obj","storeKey","text","roomName","joinRoom","Transition","App","editor","openEditor","transition","openTransition","updateDimensionCheck","newNumber","setTimeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"mZACO,SAASA,EAAOC,GACnB,IAAKA,GAAe,IAARA,EACR,OAAO,KAGX,IACI,IAAMC,EAAWC,eAAeC,QAAQH,GACxC,OAAIC,EACOG,KAAKC,MAAMJ,GAEX,KAEb,MAAMK,GAEJ,OADAC,QAAQC,IAAIF,GACL,MCfR,SAASG,EAASC,EAAMC,GAE3B,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CAClC,IAAIE,EAAUC,SAASC,eAAT,WAA4BN,EAAKE,GAAG,GAAG,GAAvC,aAA8CF,EAAKE,GAAG,GAAG,GAAzD,MAEVE,EAAQG,MAAMC,gBADL,SAATP,EACgCD,EAAKE,GAAG,GAERF,EAAKE,GAAG,I,yBCHrC,SAASO,EAAMC,GAAQ,IAC1BC,EAAqDD,EAArDC,KAAMH,EAA+CE,EAA/CF,gBAAiBI,EAA8BF,EAA9BE,UAAWC,EAAmBH,EAAnBG,KAAMC,EAAaJ,EAAbI,IAAKC,EAAQL,EAARK,IAUrD,OACI,qBACAC,UAAU,QACVC,GAAE,WAAMF,EAAN,aAAcD,EAAd,KACFI,YAZuB,SAACC,GAC1BA,EAAEC,OAAOb,MAAMc,OAAS,mBAYtBC,aATuB,SAACH,GAC1BA,EAAEC,OAAOb,MAAMc,OAAS,QAYtBd,MAAO,CAACgB,UAAWZ,EAAO,sBAAwB,OAAQH,gBAAiBA,EAAiBgB,MAAM,GAAD,OAAKX,EAAKD,EAAV,MAAyBa,OAAO,GAAD,OAAKZ,EAAKD,EAAV,S,OCrBzH,SAASc,EAAIhB,GAKxB,IALgC,IACxBF,EAAgDE,EAAhDF,gBAAiBI,EAA+BF,EAA/BE,UAAWC,EAAoBH,EAApBG,KAAME,EAAcL,EAAdK,IAAKJ,EAASD,EAATC,KAE3CgB,EAAS,GAEJzB,EAAI,EAAGA,EAAIU,EAAWV,IAC7ByB,EAAOC,KAAK,cAAC,EAAD,CAAeb,IAAKA,EAAKD,IAAKZ,EAAGS,KAAMA,EAAME,KAAMA,EAAMD,UAAWA,EAAWJ,gBAAiBA,GAApFN,IAG1B,OACI,qBAAKc,UAAU,MAAf,SAAsBW,ICV9B,IAoBeE,EApBAC,IAAMC,MAAK,SAAArB,GAQtB,IARgC,IACxBE,EAA2CF,EAA3CE,UAAWJ,EAAgCE,EAAhCF,gBAAiBK,EAAeH,EAAfG,KAAMF,EAASD,EAATC,KAEpCqB,EAAYC,mBAEdC,EAAO,GAGFhC,EAAI,EAAGA,EAAIU,EAAWV,IAC3BL,QAAQC,IAAI,aACZoC,EAAKN,KAAK,cAAC,EAAD,CAAKjB,KAAMA,EAAMI,IAAKb,EAAWW,KAAMA,EAAMD,UAAWA,EAAWJ,gBAAiBA,GAAtDN,IAG5C,OACI,qBAAKe,GAAG,SAASkB,IAAKH,EAAtB,SACKE,O,SChBE,SAASE,EAAO1B,GAE3B,OACI,cAAC,IAAD,CACA2B,cAAc,EACdC,iBAAkB,SAACC,GAAD,OAAU7B,EAAM8B,YAAYD,EAAME,KAAK,IACzDC,OAAQ,CACJ,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC7E,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC7E,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC7E,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,aCT1E,SAASC,EAAMjC,GAAQ,IAC1BkC,EAAuBlC,EAAvBkC,aAAcC,EAASnC,EAATmC,KADW,EAGSC,mBAAS,IAHlB,mBAGXC,GAHW,aAICD,oBAAS,GAJV,mBAIfE,GAJe,WAK7BC,GAAY,EACZC,EAAgB,GAEpBC,qBAAU,WAQN,OANAtD,QAAQC,IAAI,iDAAmD8C,GAC/DQ,OAAOC,iBAAiB,YAAaC,GACrCF,OAAOC,iBAAiB,YAAaE,GACrCH,OAAOC,iBAAiB,aAAcG,GACtCJ,OAAOC,iBAAiB,UAAWG,GAE5B,WACH3D,QAAQC,IAAI,4BACZsD,OAAOK,oBAAoB,YAAaH,GACxCF,OAAOK,oBAAoB,YAAaF,GACxCH,OAAOK,oBAAoB,aAAcD,GACzCJ,OAAOK,oBAAoB,UAAWD,MAE3C,CAACZ,EAAcC,IAElB,IAAMU,EAAkB,SAACpC,GAEhB8B,GAIDS,KAAKC,MAAMxC,EAAEyC,WAAa,IAAM,GAIpCZ,GAAa,SAACa,GAEV,OAAI1C,EAAEC,OAAOH,KAAO4C,EACTA,GAIXP,EAAiBnC,GACVA,EAAEC,OAAOH,QAIlBuC,EAAgB,SAACrC,GAEnB8B,GAAY,EACRC,EAAc/C,OAAS,IACvBO,EAAMoD,QAAQZ,GACdA,EAAgB,GAChBH,GAAiB,SAACgB,GAAD,MAAc,QAKjCC,EAAqB,SAAChE,GAEnBkD,EAODlD,EAAK,KAAOA,EAAK,IAIrBkD,EAActB,KAAK5B,GAVfkD,EAActB,KAAK5B,IAcrBsD,EAAgB,uCAAG,WAAOnC,GAAP,yCAAA8C,EAAA,yDAErB9C,EAAE+C,iBAGG/C,EAAEC,OAAO+C,UAAUC,SAAS,SALZ,wDAUrBnB,GAAY,EAVS,SAcEvD,KAAKC,MAAMwB,EAAEC,OAAOH,IAdtB,wBAc2BE,EAAEC,OAAOb,MAAMC,gBAd1C,KAc2DoC,EAA5EyB,EAdiB,iBAerBlD,EAAEC,OAAOb,MAAMC,gBAAkBoC,EAEjCoB,EAAmBK,GAEfC,EAAWD,EAAU,GAEZ,IAATxB,GACI0B,EAASlE,SAASC,eAAT,WAA4BgE,EAAS,GAArC,aAA4CA,EAAS,GAAG,EAAxD,MACTE,EAAQnE,SAASC,eAAT,WAA4BgE,EAAS,GAArC,aAA4CA,EAAS,GAAG,EAAxD,MACRG,EAAOpE,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAvD,MACPI,EAAUrE,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAvD,MACVC,IACAP,EAAmB,CAAC,CAACM,EAAS,GAAIA,EAAS,GAAG,GAAIC,EAAOhE,MAAMC,gBAAiBoC,IAChF2B,EAAOhE,MAAMC,gBAAkBoC,GAE/B4B,IACAR,EAAmB,CAAC,CAACM,EAAS,GAAIA,EAAS,GAAG,GAAIE,EAAMjE,MAAMC,gBAAiBoC,IAC/E4B,EAAMjE,MAAMC,gBAAkBoC,GAE9B6B,IACAT,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,IAAKG,EAAKlE,MAAMC,gBAAiBoC,IAC9E6B,EAAKlE,MAAMC,gBAAkBoC,GAE7B8B,IACAV,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,IAAKI,EAAQnE,MAAMC,gBAAiBoC,IACjF8B,EAAQnE,MAAMC,gBAAkBoC,IAEpB,IAATC,IACH8B,EAAStE,SAASC,eAAT,WAA4BgE,EAAS,GAArC,aAA4CA,EAAS,GAAG,EAAxD,MACTM,EAAQvE,SAASC,eAAT,WAA4BgE,EAAS,GAArC,aAA4CA,EAAS,GAAG,EAAxD,MACRO,EAAOxE,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAvD,MACPQ,EAAUzE,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAvD,MACVS,EAAS1E,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAG,EAA1D,MACTU,EAAS3E,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAG,EAA1D,MACTW,EAAQ5E,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAG,EAA1D,MACRY,EAAQ7E,SAASC,eAAT,WAA4BgE,EAAS,GAAG,EAAxC,aAA8CA,EAAS,GAAG,EAA1D,MACRK,IACAX,EAAmB,CAAC,CAACM,EAAS,GAAIA,EAAS,GAAG,GAAIK,EAAOpE,MAAMC,gBAAiBoC,IAChF+B,EAAOpE,MAAMC,gBAAkBoC,GAE/BgC,IACAZ,EAAmB,CAAC,CAACM,EAAS,GAAIA,EAAS,GAAG,GAAIM,EAAMrE,MAAMC,gBAAiBoC,IAC/EgC,EAAMrE,MAAMC,gBAAkBoC,GAE9BiC,IACAb,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,IAAKO,EAAKtE,MAAMC,gBAAiBoC,IAC9EiC,EAAKtE,MAAMC,gBAAkBoC,GAE7BkC,IACAd,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,IAAKQ,EAAQvE,MAAMC,gBAAiBoC,IACjFkC,EAAQvE,MAAMC,gBAAkBoC,GAEhCmC,IACAf,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,GAAG,GAAIS,EAAOxE,MAAMC,gBAAiBoC,IAClFmC,EAAOxE,MAAMC,gBAAkBoC,GAE/BoC,IACAhB,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,GAAG,GAAIU,EAAOzE,MAAMC,gBAAiBoC,IAClFoC,EAAOzE,MAAMC,gBAAkBoC,GAE/BqC,IACAjB,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,GAAG,GAAIW,EAAM1E,MAAMC,gBAAiBoC,IACjFqC,EAAM1E,MAAMC,gBAAkBoC,GAE9BsC,IACAlB,EAAmB,CAAC,CAACM,EAAS,GAAG,EAAGA,EAAS,GAAG,GAAIY,EAAM3E,MAAMC,gBAAiBoC,IACjFsC,EAAM3E,MAAMC,gBAAkBoC,IAjFjB,4CAAH,sDAsFtB,OAAO,K,OCjKI,SAASuC,EAAUzE,GAAQ,IAAD,EACLoC,mBAAS,IADJ,mBAChCsC,EADgC,KACrBC,EADqB,KAGvClC,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,YAAaiC,GAE9B,WACLlC,OAAOK,oBAAoB,YAAa6B,MAEzC,IAEH,IAAMA,EAAc,SAACnE,GACdA,EAAEC,OAAO+C,UAAUC,SAAS,oBAC7B1D,EAAM6E,SASZ,OACM,sBAAKvE,UAAU,wBAAf,UACE,oBAAIA,UAAU,kBAAd,wCACA,uBACEwE,SATU,SAACrE,GACnBA,EAAE+C,iBACFmB,GAAa,SAACtB,GAAD,OAAc5C,EAAEC,OAAOqE,UAQ5BC,YAAY,YACZD,MAAOL,EACPpE,UAAU,oBAEZ,wBAAQA,UAAU,kBAAkB2E,QAAS,kBAAMjF,EAAMkF,cAAcR,IAAvE,qBC/BK,SAASS,EAAYnF,GAAQ,IAAD,EACjBoC,mBAASpC,EAAME,WADE,mBAClCiC,EADkC,KAC5BiD,EAD4B,KAGzC3C,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,YAAaiC,GAE9B,WACLlC,OAAOK,oBAAoB,YAAa6B,MAEzC,IAEH,IAAMA,EAAc,SAACnE,GACdA,EAAEC,OAAO+C,UAAUC,SAAS,oBAC7B1D,EAAM6E,SAIZ,OACM,sBAAKvE,UAAU,wBAAf,UACE,oBAAIA,UAAU,sBAAd,oBACA,+CAAkBN,EAAME,UAAxB,MAAsCF,EAAME,aAC5C,+BAAKiC,EAAL,MAAcA,KACd,sBAAK7B,UAAU,gCAAf,UACE,wBAAQ2E,QAAS,WAAOG,GAAQ,SAACC,GAAD,OAAUA,EAAO,GAAKA,EAAO,EAAIA,MAAQ/E,UAAU,kBAAnF,eACA,wBAAQ2E,QAAS,WAAOG,GAAQ,SAACC,GAAD,OAAUA,EAAO,GAAY,EAAPA,EAAWA,MAAQ/E,UAAU,kBAAnF,kBAEF,wBAAQ2E,QAAS,WACfjF,EAAM6E,QACN7E,EAAMsF,aAAanD,IAClB7B,UAAU,qBAHb,uBCdV,IAAMiF,EAAS,IAAIC,IAAU,CACzBC,UAAU,IAKC,SAASC,EAAO1F,GAAQ,IAAD,EAEAoC,mBAASpC,EAAME,WAFf,mBAE3BA,EAF2B,KAEhByF,EAFgB,OAGVvD,mBAAS,KAHC,mBAG3BjC,EAH2B,KAGrByF,EAHqB,OAIMxD,mBAAS,kBAJf,mBAI3BF,EAJ2B,KAIb2D,EAJa,OAKMzD,mBAAS,CAAC,iBAAkB,iBAAkB,mBALpD,mBAK3B0D,EAL2B,KAKbC,EALa,OAMA3D,oBAAS,GANT,mBAM3B4D,EAN2B,KAMhBC,EANgB,OAOY7D,mBAAS,oBAPrB,mBAO3BtC,EAP2B,aASFsC,mBAAS,UATP,mBAS3B8D,EAT2B,KASjBC,EATiB,OAUA/D,mBAAS,GAVT,mBAU3BgE,EAV2B,KAUhBC,EAVgB,OAYHjE,oBAAS,GAZN,mBAY3BkE,EAZ2B,KAYhBC,EAZgB,OAaMnE,oBAAS,GAbf,mBAa3BoE,EAb2B,KAabC,GAba,QAeFrE,oBAAS,GAfP,qBAe3BsE,GAf2B,MAejBC,GAfiB,SAkBNvE,mBAAS,GAlBH,qBAkB3BwE,GAlB2B,MAkBnBC,GAlBmB,SAoBJzE,mBAAS,kCApBL,qBAoB3B0E,GApB2B,MAoBlBC,GApBkB,MAqB5BC,GAAczF,mBAEpBkB,qBAAU,WAkCN,OAjCA8C,EAAO0B,GAAG,cAAc,SAACC,GACrB/H,QAAQC,IAAI,2BAA4B8H,MAG5C3B,EAAO0B,GAAG,eAAe,SAACE,GACtBhI,QAAQC,IAAI+H,EAAK5G,GAAI,kBACrBwG,GAAW,QAAD,OAASI,EAAK5G,GAAd,0BAGdgF,EAAO0B,GAAG,YAAY,SAACC,GACnB/H,QAAQC,IAAI,WAGhBmG,EAAO0B,GAAG,eAAe,SAACE,GACtBhI,QAAQC,IAAI+H,EAAK5G,GAAI,qBACrBwG,GAAW,QAAD,OAASI,EAAK5G,GAAd,4BAGdgF,EAAO0B,GAAG,oBAAoB,SAACG,EAAM9H,EAAM6H,GACvChI,QAAQC,IAAI,qBACR+H,EAAK5G,KACLpB,QAAQC,IAAR,8BAAmC+H,EAAK5G,GAAxC,yBAA2DjB,IAE3DD,EAASC,EAAM,YAKvBR,eAAeuI,QACf9B,EAAO+B,YAEP3H,SAASgD,iBAAiB,QAAS4E,IAE5B,WACH5H,SAASoD,oBAAoB,QAASwE,OAE3C,IAGH,IAAMA,GAAa,SAAC9G,GACZA,EAAE+G,OAAS,EACX5B,GAAQ,SAACzF,GAAD,OAAUA,EAAO,GAAKA,EAAO,GAAKA,KACnCM,EAAE+G,OAAS,GAClB5B,GAAQ,SAACzF,GAAD,OAAUA,EAAO,IAAMA,EAAO,GAAKA,MAqB7CsH,GAAc,SAAC5F,EAAO6F,GAcxBX,GAAW,uBACX,IAZkBY,EAYdC,EAAiBF,EAXd,wBAAwBG,KADbF,EAYsB9F,IAVlB,GAAX8F,EAAElI,SACDkI,EAAG,IAAI,CAACA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAIG,KAAK,KAG9C,OAAO,EADdH,EAAG,KAAKA,EAAEI,UAAU,KACD,GAAI,IAAMJ,GAAG,EAAG,IAAO,IAAFA,GAAOG,KAAK,MAAM,KAEvD,GAIsCjG,EAGjDgE,GAAgB,SAACR,GAAD,OAAUuC,KAC1B7B,GAAgB,SAACiC,GACb,IACIC,EAAUD,EAAIC,QAAQL,GAG1B,OAAIA,IAAmBI,EAAI,GAChBA,GAGM,IAAbC,EACO,CAACL,EAAgBI,EAAI,GAAIA,EAAI,IAE5B,IAAZC,EAAyB,CAACL,EAAgBI,EAAI,GAAIA,EAAI,IAAe,CAACJ,EAAgBI,EAAI,GAAIA,EAAI,QAKpGE,GAAa,SAACzH,EAAG0H,EAAYC,GAC/BjC,GAAY,SAACkC,GACT,OAAKA,EAKDA,IAAiBD,GACjBjJ,QAAQC,IAAI,UACLiJ,IAEXlJ,QAAQC,IAAI,mBAA2BiJ,EAAe,YAAeF,EAAa,aAAeC,GACjGzI,SAAS2I,cAAT,WAA2BD,IAAgB5E,UAAU8E,IAAIJ,GACzDxI,SAAS2I,cAAT,WAA2BF,IAAY3E,UAAU+E,OAAOL,GACjDC,IAXHjJ,QAAQC,IAAI,SACZO,SAAS2I,cAAT,WAA2BF,IAAY3E,UAAUgF,OAAON,GACjDC,OAebM,GAAkB,SAACjI,EAAGH,EAAWqI,EAAUC,GAC7C,GAAID,IACAC,GAAO,GACUjJ,SAAS2I,cAAT,WAA2BK,IACjClF,UAAU8E,IAAIjI,GACrBqI,IAAalI,EAAEC,OAAOH,IACtB,OAGRqI,EAAOnI,EAAEC,OAAOH,IACAZ,SAAS2I,cAAT,WAA2B7H,EAAEC,OAAOH,KAC1CkD,UAAU+E,OAAOlI,IAGzBuI,GAAa,uCAAG,WAAOpI,GAAP,eAAA8C,EAAA,sEACA5D,SAAS2I,cAAc,WADvB,OACfQ,EADe,OAGnBrI,EAAEqI,GACAC,MAAK,SAAAzJ,IACQ,IAAI0J,OACVC,IAAM3J,EAEV,IAAI4J,EAAOvJ,SAASwJ,cAAc,KAClCD,EAAKrJ,MAAMuJ,QAAU,OACrBjK,QAAQC,IAAIE,GACZ4J,EAAKG,aAAa,WAAY,SAC9BH,EAAKG,aAAa,OAAQ/J,GAC1BK,SAAS2J,KAAKC,YAAYL,GAC1BA,EAAKM,QACLN,EAAKV,YAGRiB,OAAM,SAAAvK,GACHC,QAAQC,IAAI,eAAgBF,MAnBd,2CAAH,sDAgEbwK,GAAS,uCAAG,oCAAAnG,EAAA,sDAEd,IADIoG,EAAW,GACNnK,EAAI,EAAGA,EAAIU,EAAWV,IAC3B,IAASoK,EAAI,EAAGA,EAAI1J,EAAW0J,IACvBC,EAASlK,SAASC,eAAT,WAA4BJ,EAA5B,aAAkCoK,EAAlC,MAAwC/J,MAAM,oBAC3D8J,EAAUzI,KAAK2I,GALT,gBAQK7K,KAAK8K,UAAUH,GARpB,cAQVI,EARU,yBASPA,GATO,2CAAH,qDAYTC,GAAU,uCAAG,WAAO9C,GAAP,SAAA3D,EAAA,kEACf0G,aADe,SACoBP,KADpB,wBACFQ,QADE,UACM,OADN,MAEfnD,GAAW,mBAFI,2CAAH,sDAKVoD,GAAU,uCAAG,WAAOjD,GAAP,qBAAA3D,EAAA,sEACQvE,KAAKC,MAAMgL,aAAalL,QAAQ,SADxC,UACXqL,EADW,2DAOXlK,EAAYA,IAAckK,EAAW3K,OAP1B,uBAQXsH,GAAW,oEAAD,OAAqE7G,EAArE,cAAoFA,EAApF,OARC,0BAcf,IAFAmK,KACIC,EAAe,EACV9K,EAAI,EAAGA,EAAIU,EAAWV,IAC3B,IAASoK,EAAI,EAAGA,EAAI1J,EAAW0J,IACZjK,SAASC,eAAT,WAA4BJ,EAA5B,aAAkCoK,EAAlC,MACN/J,MAAM,oBAAsBuK,EAAWE,GAChDA,GAAgB,EAGxBvD,GAAW,oBArBI,4CAAH,sDAyBVsD,GAAc,WAChBvL,eAAeuI,QACfR,GAAU,GACV,IAAK,IAAIrH,EAAI,EAAGA,EAAIU,EAAWV,IAC3B,IAAK,IAAIoK,EAAI,EAAGA,EAAI1J,EAAW0J,IAAK,CACjBjK,SAASC,eAAT,WAA4BJ,EAA5B,aAAkCoK,EAAlC,MACN/J,MAAM,oBAAsB,qBAKjD,OACE,sBAAKS,UAAU,SAAf,UAEI,sBAAKA,UAAU,UAAf,UACI,sBAAKA,UAAU,aAAf,UACE,wBAAQC,GAAG,OAAO0E,QAAS,SAACxE,GAAD,OAAOiI,GAAgBjI,EAAG,SAAU+F,EAAcC,KAA7E,kBACA,sBAAKnG,UAAU,wBAAf,UACI,wBAAQ2E,QAAS,kBAAK4D,GAAc0B,MAApC,sBACA,wBAAQtF,QAAS,kBAAK+E,GAAW,SAAjC,kBACA,wBAAQ/E,QAAS,kBAAKkF,GAAW,SAAjC,wBAGN,sBAAK7J,UAAU,aAAf,UACE,wBAAQC,GAAG,OAAO0E,QAAS,SAACxE,GAAD,OAAOiI,GAAgBjI,EAAG,SAAU+F,EAAcC,KAA7E,kBACA,sBAAKnG,UAAU,wBAAf,UACI,wBAAQT,MAAO,CAACgC,MAAO6E,GAAW,OAAS,SAAU8D,WAAU9D,GAAyBzB,QAAS,WA5FzG2B,GAAS,IACTG,GAAW,WACXF,IAAU,SAAC4D,GAGP,OADApL,EADeV,EAAO8L,EAAI,GACP,QACZA,EAAM,OAuFT,kBACA,wBAAQ5K,MAAO,CAACgC,MAAO6E,GAAW,OAAS,SAAU8D,WAAU9D,GAAyBzB,QAAS,kBAlF7G8B,GAAW,gBACXF,IAAU,SAAC4D,GACP,IAAIC,EAAS/L,EAAO8L,GACpB,OAAIC,GACArL,EAASqL,EAAQ,QACVD,EAAM,GAEVA,MA2EC,kBACA,wBAAQ5K,MAAO,CAACgC,MAAO6E,GAAW,OAAS,SAAU8D,WAAU9D,GAAyBzB,QAAS,kBAAMsB,EAAU,WAAjH,oBACA,wBAAQtB,QAAS,kBAAMoF,MAAvB,mBACA,wBAAQpF,QAAS,kBAAMgB,GAAcD,IAArC,6BAGN,sBAAK1F,UAAU,aAAf,UACE,wBAAQC,GAAG,YAAY0E,QAAS,SAACxE,GAAD,OAAOiI,GAAgBjI,EAAG,SAAU+F,EAAcC,KAAlF,uBACA,sBAAKnG,UAAU,6BAAf,UACI,wBAAQT,MAAO,CAACgC,MAAO6E,GAAW,OAAS,SAAU8D,WAAU9D,GAAyBzB,QAAS,kBAAMsB,EAAU,cAAjH,kBACA,wBAAQtB,QAAS,WA7NzByB,KACAnB,EAAO+B,YACPX,IAAY,GACZI,GAAW,kDA0NH,yBAGN,mBAAGtF,IAAKuF,GAAa1G,UAAU,gBAA/B,SAAgDwG,QAGpD,sBAAKxG,UAAU,WAAf,UAEM,sBAAKA,UAAU,gBAAf,UACI,qBAAKA,UAAU,mBAAmBT,MAAO,CAACC,gBAAiBgG,EAAa,MACxE,qBAAKxF,UAAU,QAAQ2E,QAAS,kBAAMwC,GAAY3B,EAAa,IAAI,IAAQjG,MAAO,CAACC,gBAAiBgG,EAAa,MACjH,qBAAKxF,UAAU,QAAQ2E,QAAS,kBAAMwC,GAAY3B,EAAa,IAAI,IAAQjG,MAAO,CAACC,gBAAiBgG,EAAa,SAGrH,cAACpE,EAAD,CAAQI,YAAa2F,KAErB,sBAAKnH,UAAU,iBAAf,UACI,wBAAQC,GAAG,QAAQD,UAAU,cAAc2E,QAAS,SAACxE,GACjDyH,GAAWzH,EAAG,gBAAiB,UADnC,SAEG,cAAC,IAAD,MACH,wBAAQwE,QAAS,kBAAKmB,EAAY,EAAIC,EAAaD,EAAY,GAAK,MAApE,eACA,wBAAQnB,QAAS,kBAAKmB,EAAY,EAAIC,EAAaD,EAAY,GAAK,MAApE,kBAEW,UAAbF,GAAwB,cAACjE,EAAD,CAAOmB,QAzIxB,SAAC9D,GAClBiG,EAAOoF,MAAM,aAAcrL,GAC3BuH,IAAU,SAACxD,GAEP,OTjML,SAAkBzE,EAAKgM,GACrBhM,GAAe,IAARA,GACRO,QAAQC,IAAI,yBAGhB,IACIN,eAAeoL,QAAQtL,EAAKI,KAAK8K,UAAUc,IAC7C,MAAM1L,GACJC,QAAQC,IAAIF,ISwLR2L,CAASxH,EAAU/D,GACZ+D,EAAW,MAqI0ClB,KAAMiE,EAAWlE,aAAcA,IAEvF,qBAAK5B,UAAU,iBAAf,SACI,yBAAQC,GAAG,SAASD,UAAU,4BAA4B2E,QAAS,SAACxE,GAChEyH,GAAWzH,EAAG,gBAAiB,WADnC,UAEG,cAAC,IAAD,IAFH,cAQV,qBAAKH,UAAU,mBAAf,SACE,cAAC,EAAD,CAAQL,KAAM+F,EAAWlG,gBAAiBA,EAAiBK,KAAMA,EAAMD,UAAWA,MAIxE,cAAdoG,GACA,cAAC7B,EAAD,CACII,MAAO,kBAAM0B,GAAWD,IACxBpB,cAAe,SAAC4F,GAhRG,IAACC,IAiRCD,EAhRpBpE,KACDnB,EAAOyF,SAASD,GAChBpE,IAAY,GACZI,GAAW,oCAAD,OAAqCgE,EAArC,SA8QRxE,GAAWD,MAKH,WAAdA,GACA,cAACnB,EAAD,CACIjF,UAAWA,EACX2E,MAAO,kBAAM0B,GAAWD,IACxBhB,aA7Ka,SAACnD,GAClBwD,GAAa,SAACN,GAAD,OAAUlD,W,OCzMhB,SAAS8I,EAAWjL,GAC/B,OACI,qBAAKM,UAAU,eC6CR4K,MA3Cf,WAAgB,IAAD,EACgB9I,oBAAS,GADzB,mBACN+I,EADM,KACEC,EADF,OAEwBhJ,oBAAS,GAFjC,mBAENiJ,EAFM,KAEMC,EAFN,OAGqBlJ,mBAAS,IAH9B,mBAGNlC,EAHM,KAGKyF,EAHL,KAKP4F,EAAuB,SAACC,GAExBA,GAAa,IAAMA,GAAa,IAClC7F,EAAa6F,IAcjB,OACE,sBAAKlL,UAAU,MAAf,UACI6K,EAAS,cAAC,EAAD,CAAQjL,UAAWA,IAC5B,sBAAKI,UAAU,qBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,6CACA,qFAEF,sBAAKA,UAAU,gBAAf,UACE,+CAAiB,+BAAOJ,IAAxB,MAA4C,+BAAOA,OACnD,wBAAQ+E,QAAS,kBAAMsG,EAAqBrL,EAAY,IAAxD,eACA,wBAAQ+E,QAAS,kBAAMsG,EAAiC,EAAZrL,IAA5C,kBAEF,wBAAQI,UAAU,eAAe2E,QAAS,kBAtBhDqG,GAAe,GACfG,YAAW,WACTL,GAAW,KACV,UACHK,YAAW,WACTH,GAAe,KACd,OAgBG,0BAGJD,EAAa,cAAC,EAAD,IAAiB,SChCrBK,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB7C,MAAK,YAAkD,IAA/C8C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzM,SAASC,eAAe,SAM1B8L,M","file":"static/js/main.f15887e4.chunk.js","sourcesContent":["\r\nexport function getKey(key) {\r\n    if (!key && key !== 0) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const valueStr = sessionStorage.getItem(key);\r\n        if (valueStr) {\r\n            return JSON.parse(valueStr)\r\n        } else {\r\n            return null;\r\n        }\r\n    } catch(err) {\r\n        console.log(err)\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function storeKey(key, obj) {\r\n    if (!key && key !== 0) {\r\n        console.log('Error: Key is missing');\r\n    } \r\n\r\n    try {\r\n        sessionStorage.setItem(key, JSON.stringify(obj));\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nexport function removeKey(key) {\r\n    try {\r\n        sessionStorage.removeItem(key)\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n}","export function UndoRedo(data, undo) {\r\n\r\n    for (let i = 0; i < data.length; i++) {\r\n        let toErase = document.getElementById(`[${data[i][0][0]}, ${data[i][0][1]}]`)\r\n        if (undo === 'undo') {\r\n            toErase.style.backgroundColor = data[i][1]\r\n        } else {\r\n            toErase.style.backgroundColor = data[i][2]            \r\n        }\r\n    }\r\n\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { findRenderedDOMComponentWithClass } from 'react-dom/test-utils'\r\nimport './Pixel.scss'\r\n\r\nexport default function Pixel(props) {\r\n    const { grid, backgroundColor, dimension, zoom, pid, rid } = props\r\n\r\n    const changeColorOnHover = (e) => {\r\n      e.target.style.border = \"1px solid black\"\r\n    }\r\n\r\n    const changeColorOnLeave = (e) => {\r\n      e.target.style.border = \"none\"\r\n    }\r\n\r\n    return (\r\n        <div\r\n        className=\"pixel\"\r\n        id={`[${rid}, ${pid}]`}\r\n        onMouseOver={changeColorOnHover}\r\n        onMouseLeave={changeColorOnLeave}\r\n        // onMouseEnter={changeColorOnHover}\r\n        // onMouseLeave={resetColor}\r\n        // onClick={applyColor}\r\n        style={{boxShadow: grid ? 'inset 0 0 1px black' : 'none', backgroundColor: backgroundColor, width: `${zoom/dimension}px`, height: `${zoom/dimension}px` }}\r\n      ></div>\r\n    )\r\n}","import Pixel from './Pixel'\r\nimport './Row.scss'\r\n\r\nexport default function Row(props) {\r\n    const { backgroundColor, dimension, zoom, rid, grid } = props;\r\n\r\n    let pixels = []\r\n  \r\n    for (let i = 0; i < dimension; i++) {\r\n      pixels.push(<Pixel key={i} rid={rid} pid={i} grid={grid} zoom={zoom} dimension={dimension} backgroundColor={backgroundColor} />)\r\n    }\r\n  \r\n    return (\r\n        <div className=\"row\">{pixels}</div>\r\n    )\r\n}","import React, { useRef } from 'react'\r\nimport Row from \"./Row\"\r\n\r\nconst Canvas = React.memo(props => {\r\n    const { dimension, backgroundColor, zoom, grid } = props\r\n\r\n    const canvasRef = useRef();\r\n\r\n    let rows = []\r\n    \r\n\r\n    for (let i = 0; i < dimension; i++) {\r\n        console.log('redrawing')\r\n        rows.push(<Row grid={grid} rid={i} key={i} zoom={zoom} dimension={dimension} backgroundColor={backgroundColor}/>)\r\n    }\r\n\r\n    return (\r\n        <div id=\"canvas\" ref={canvasRef}>\r\n            {rows}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Canvas\r\n","import { GithubPicker } from 'react-color'\r\n\r\nexport default function Colors(props) {\r\n\r\n    return (\r\n        <GithubPicker \r\n        disableAlpha={true}\r\n        onChangeComplete={(color)=> props.changeColor(color.hex, true)}\r\n        colors={[\r\n            \"#FFFFFF\", \"#E8E8E8\", \"#E0E0E0\", \"#C0C0C0\", \"#888888\", \"#585858\", \"#202020\", \"#000000\", \r\n            '#ff0000', '#ff4800', '#ffdd00', '#00ff04', '#00e7ff', '#0079ff', '#005fff', '#8000ff',\r\n            '#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#004DCF', '#350096', \r\n            '#EB9694', '#FAD0C3', '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6', '#BED3F3', '#D4C4FB',\r\n        ]}\r\n        />\r\n    )\r\n}","import React, { useEffect, useState, useRef } from 'react'\r\n\r\n\r\nexport default function Brush(props) {\r\n    const { currentColor, size } = props\r\n\r\n    const [locationArray, setLocationArray] = useState([])\r\n    const [lastPoint, setLastPoint] = useState(false)\r\n    let mouseDown = false;\r\n    let currentStroke = [];\r\n\r\n    useEffect(() => {\r\n\r\n        console.log('attaching event listener to brush with color: ' + currentColor)\r\n        window.addEventListener('mousedown', handleMouseClick );\r\n        window.addEventListener('mousemove', handleMouseMove );\r\n        window.addEventListener('mouseleave', handleMouseUp );\r\n        window.addEventListener('mouseup', handleMouseUp );\r\n\r\n        return function cleanup() {\r\n            console.log('removing event listeners')\r\n            window.removeEventListener('mousedown', handleMouseClick );\r\n            window.removeEventListener('mousemove', handleMouseMove );\r\n            window.removeEventListener('mouseleave', handleMouseUp );\r\n            window.removeEventListener('mouseup', handleMouseUp );\r\n        }\r\n    }, [currentColor, size])\r\n\r\n    const handleMouseMove = (e) => {\r\n        \r\n        if (!mouseDown) { \r\n            return \r\n        }\r\n        \r\n        if (Math.floor(e.timeStamp) % 2 === 0) {\r\n            return \r\n        }\r\n\r\n        setLastPoint((lastPoint) => {\r\n        \r\n            if (e.target.id === lastPoint) {\r\n                return lastPoint\r\n            }\r\n\r\n            \r\n            handleMouseClick(e)\r\n            return e.target.id\r\n        })\r\n    }\r\n \r\n    const handleMouseUp = (e) => {\r\n\r\n        mouseDown = false\r\n        if (currentStroke.length > 0) {\r\n            props.history(currentStroke)\r\n            currentStroke = []\r\n            setLocationArray((previous) => [])\r\n        }\r\n\r\n    }\r\n\r\n    const handleHistoryStore = (data) => {\r\n        // first stroke ? \r\n        if (!currentStroke) {\r\n            currentStroke.push(data)\r\n            return\r\n        }  \r\n\r\n        // if current color of the block and the desired color to change it to are the same.\r\n        // I dont check this within the mousedown function because I dont want to do that check for all different sizes of the brush. Seems pretty heavy.\r\n        if (data[1] === data[2]) {\r\n            return \r\n        }\r\n\r\n        currentStroke.push(data)\r\n    }\r\n\r\n\r\n    const handleMouseClick = async (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        // make sure i am not changing something that isnt a pixel.\r\n        if (!e.target.classList.contains('pixel')) {\r\n            return\r\n        }\r\n\r\n        // set mousedown to active things like mousedown trigger event firing.\r\n        mouseDown = true;   \r\n        \r\n        \r\n        // handle the middle stroke of the brush. Since no matter what brush size this will be called\r\n        let storeData = [await JSON.parse(e.target.id), e.target.style.backgroundColor, currentColor]\r\n        e.target.style.backgroundColor = currentColor\r\n\r\n        handleHistoryStore(storeData)\r\n\r\n        let location = storeData[0]\r\n\r\n        if (size === 2) {\r\n            let right1 = document.getElementById(`[${location[0]}, ${location[1]+1}]`)\r\n            let left1 = document.getElementById(`[${location[0]}, ${location[1]-1}]`)\r\n            let top1 = document.getElementById(`[${location[0]+1}, ${location[1]}]`)\r\n            let bottom1 = document.getElementById(`[${location[0]-1}, ${location[1]}]`)\r\n            if (right1) { \r\n                handleHistoryStore([[location[0], location[1]+1], right1.style.backgroundColor, currentColor])\r\n                right1.style.backgroundColor = currentColor\r\n             }\r\n            if (left1) { \r\n                handleHistoryStore([[location[0], location[1]-1], left1.style.backgroundColor, currentColor])\r\n                left1.style.backgroundColor = currentColor\r\n             }\r\n            if (top1) { \r\n                handleHistoryStore([[location[0]+1, location[1]], top1.style.backgroundColor, currentColor])\r\n                top1.style.backgroundColor = currentColor\r\n             }\r\n            if (bottom1) { \r\n                handleHistoryStore([[location[0]-1, location[1]], bottom1.style.backgroundColor, currentColor])\r\n                bottom1.style.backgroundColor = currentColor\r\n             }\r\n        } else if (size === 3) {\r\n            let rightm = document.getElementById(`[${location[0]}, ${location[1]+1}]`)\r\n            let leftm = document.getElementById(`[${location[0]}, ${location[1]-1}]`)\r\n            let topm = document.getElementById(`[${location[0]+1}, ${location[1]}]`)\r\n            let bottomm = document.getElementById(`[${location[0]-1}, ${location[1]}]`)\r\n            let rightt = document.getElementById(`[${location[0]+1}, ${location[1]+1}]`)\r\n            let rightb = document.getElementById(`[${location[0]+1}, ${location[1]-1}]`)\r\n            let leftt = document.getElementById(`[${location[0]-1}, ${location[1]+1}]`)\r\n            let leftb = document.getElementById(`[${location[0]-1}, ${location[1]-1}]`)\r\n            if (rightm) { \r\n                handleHistoryStore([[location[0], location[1]+1], rightm.style.backgroundColor, currentColor])\r\n                rightm.style.backgroundColor = currentColor\r\n            }\r\n            if (leftm) { \r\n                handleHistoryStore([[location[0], location[1]-1], leftm.style.backgroundColor, currentColor])\r\n                leftm.style.backgroundColor = currentColor\r\n            }\r\n            if (topm) { \r\n                handleHistoryStore([[location[0]+1, location[1]], topm.style.backgroundColor, currentColor])\r\n                topm.style.backgroundColor = currentColor \r\n            }\r\n            if (bottomm) { \r\n                handleHistoryStore([[location[0]-1, location[1]], bottomm.style.backgroundColor, currentColor])\r\n                bottomm.style.backgroundColor = currentColor\r\n            }\r\n            if (rightt) { \r\n                handleHistoryStore([[location[0]+1, location[1]+1], rightt.style.backgroundColor, currentColor])\r\n                rightt.style.backgroundColor = currentColor \r\n            }\r\n            if (rightb) { \r\n                handleHistoryStore([[location[0]+1, location[1]-1], rightb.style.backgroundColor, currentColor])\r\n                rightb.style.backgroundColor = currentColor \r\n            }\r\n            if (leftt) { \r\n                handleHistoryStore([[location[0]-1, location[1]+1], leftt.style.backgroundColor, currentColor])\r\n                leftt.style.backgroundColor = currentColor \r\n            }\r\n            if (leftb) { \r\n                handleHistoryStore([[location[0]-1, location[1]-1], leftb.style.backgroundColor, currentColor])\r\n                leftb.style.backgroundColor = currentColor \r\n            }\r\n        }\r\n    }\r\n\r\n    return null\r\n}","import React, { useEffect, useState }  from 'react'\r\nimport './Modal.scss';\r\n\r\nexport default function RoomModal(props) {\r\n  const [textInput, setTextInput] = useState('')\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousedown', handleClick )\r\n\r\n    return () => {\r\n      window.removeEventListener('mousedown', handleClick)\r\n    }\r\n  }, [])\r\n\r\n  const handleClick = (e) => {\r\n    if (!e.target.classList.contains(\"modal-component\")) {\r\n        props.close()\r\n    }\r\n  }\r\n\r\n  const handleInput = (e) => {\r\n    e.preventDefault()\r\n    setTextInput((previous) => e.target.value)\r\n  }\r\n\r\n  return (\r\n        <div className=\"Modal modal-component\">\r\n          <h1 className=\"modal-component\">Join/Create MultiDraw Room</h1>\r\n          <input \r\n            onChange={handleInput}\r\n            placeholder=\"Room Name\"\r\n            value={textInput}\r\n            className=\"modal-component\"\r\n          />\r\n          <button className=\"modal-component\" onClick={() => props.handleNetwork(textInput)}>Join</button>\r\n        </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState }  from 'react'\r\nimport './Modal.scss';\r\n\r\nexport default function ResizeModal(props) {\r\n  const [size, setSize] = useState(props.dimension)\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('mousedown', handleClick )\r\n\r\n    return () => {\r\n      window.removeEventListener('mousedown', handleClick)\r\n    }\r\n  }, [])\r\n\r\n  const handleClick = (e) => {\r\n    if (!e.target.classList.contains(\"modal-component\")) {\r\n        props.close()\r\n    }\r\n  }\r\n\r\n  return (\r\n        <div className=\"Modal modal-component\">\r\n          <h1 className=\"h12 modal-component\">Resize</h1>\r\n          <p>current size: {props.dimension} x {props.dimension}</p>\r\n          <h2>{size} x {size}</h2>\r\n          <div className=\"modal-component modal-buttons\">\r\n            <button onClick={()=> { setSize((prev) => prev > 16 ? prev / 2 : prev)}} className=\"modal-component\">-</button>\r\n            <button onClick={()=> { setSize((prev) => prev < 64 ? prev * 2 : prev)}} className=\"modal-component\">+</button>\r\n          </div>\r\n          <button onClick={() => {\r\n            props.close()\r\n            props.handleResize(size)\r\n          }} className=\"modal-component b2\">Resize</button>\r\n        </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport LioWebRTC from 'liowebrtc'\r\nimport { toPng, toSvg } from 'html-to-image';\r\nimport { BsBrush, BsFillBucketFill } from 'react-icons/bs';\r\nimport './Editor.scss';\r\n\r\nimport { storeKey, getKey, removeKey } from '../Store/Key';\r\nimport { UndoRedo } from './Panels/Undo';\r\nimport Canvas from '../Canvas/Canvas';\r\nimport Colors from './Panels/Colors';\r\nimport Brush from './Panels/Brush';\r\nimport RoomModal from '../Modal/RoomModal'\r\nimport ResizeModal from '../Modal/ResizeModal'\r\n\r\n\r\nconst webrtc = new LioWebRTC({\r\n    dataOnly: true\r\n});\r\n\r\n\r\n// This is the main function all my panels and drawing components pull from. Think of this as the App() of this application.\r\nexport default function Editor(props) {\r\n\r\n    const [dimension, setDimension] = useState(props.dimension)\r\n    const [zoom, setZoom] = useState(500)\r\n    const [currentColor, setCurrentColor] = useState('rgb(255, 0, 0)')\r\n    const [colorPalette, setColorPalette] = useState(['rgb(220, 0, 0)', 'rgb(0, 220, 0)', 'rgb(0, 0, 220)'])\r\n    const [gridLines, setGridLines] = useState(false)\r\n    const [backgroundColor, setBackgroundColor] = useState('rgb(255,255,255)')\r\n    \r\n    const [toolOpen, setToolOpen] = useState('brush')\r\n    const [brushSize, setBrushSize] = useState(1)\r\n    \r\n    const [modalOpen, openModal] = useState(false)\r\n    const [dropDownOpen, setDropDownOpen] = useState(false)\r\n    \r\n    const [isOnline, setIsOnline] = useState(false)\r\n    \r\n    // number for undo button\r\n    const [number, setNumber] = useState(0)\r\n    \r\n    const [message, setMessage] = useState(\"Select a brush to get started!\")\r\n    const messagesRef = useRef()\r\n\r\n    useEffect(() => {\r\n        webrtc.on('joinedRoom', (name) => {\r\n            console.log('succesfully joined room ', name)\r\n        })\r\n        \r\n        webrtc.on('removedPeer', (peer) => {\r\n            console.log(peer.id, ' left the room')\r\n            setMessage(`User ${peer.id} has left the room`)\r\n        })\r\n\r\n        webrtc.on('leftRoom', (name) => {\r\n            console.log('left')\r\n        })\r\n        \r\n        webrtc.on('createdPeer', (peer) => {\r\n            console.log(peer.id, ' joined the room!')\r\n            setMessage(`User ${peer.id} has joined the room`)\r\n        })\r\n        \r\n        webrtc.on('receivedPeerData', (type, data, peer) => {\r\n            console.log('data received....')\r\n            if (peer.id) {\r\n                console.log(`data received from: ${peer.id}... contains: ${data}`)\r\n                // draw peers data on the local clients screen using the Redo function from the undo and redo buttons\r\n                UndoRedo(data, 'redo')\r\n            }\r\n        })\r\n\r\n        // making sure all varaibles start fresh if user refreshes. may change this implementation at a later date.\r\n        sessionStorage.clear();\r\n        webrtc.leaveRoom()\r\n\r\n        document.addEventListener('wheel', handleZoom);\r\n\r\n        return function cleanup() {\r\n            document.removeEventListener('wheel', handleZoom)\r\n        }\r\n    }, [])\r\n    \r\n    // called from wheel listener to \"zoom\" in and out pixels of canvas\r\n    const handleZoom = (e) => {\r\n        if (e.deltaY > 0) {\r\n            setZoom((zoom) => zoom > 50 ? zoom - 50 : zoom);\r\n        } else if (e.deltaY < 0) {\r\n            setZoom((zoom) => zoom < 800 ? zoom + 50 : zoom);\r\n        }\r\n    }\r\n\r\n    const handleNewtworkJoin = (roomName) => {\r\n        if (!isOnline) {\r\n            webrtc.joinRoom(roomName)\r\n            setIsOnline(true)\r\n            setMessage(`You have succesfully joined room ${roomName}...`)\r\n        }\r\n    }\r\n\r\n    const handleNetworkLeave = () => {\r\n        if (isOnline) {\r\n            webrtc.leaveRoom()\r\n            setIsOnline(false)\r\n            setMessage(`You have disconnected from MultiDraw room...`)\r\n        }\r\n    }\r\n\r\n    // called from Colors.js through props\r\n    const handleColor = (color, convert) => {\r\n\r\n        // from user: kennebec on StackOverflow\r\n        function hexToRgb(c){\r\n            if(/^#([a-f0-9]{3}){1,2}$/.test(c)){\r\n                if(c.length== 4){\r\n                    c= '#'+[c[1], c[1], c[2], c[2], c[3], c[3]].join('');\r\n                }\r\n                c= '0x'+c.substring(1);\r\n                return 'rgb('+[(c>>16)&255, (c>>8)&255, c&255].join(', ')+')';\r\n            }\r\n            return '';\r\n        }\r\n\r\n        setMessage(`Changed Brush color`)\r\n        let convertedColor = convert ? hexToRgb(color) : color\r\n\r\n        \r\n        setCurrentColor((prev) => convertedColor);\r\n        setColorPalette((arr) => {\r\n            let newArr = []\r\n            let indexOf = arr.indexOf(convertedColor)\r\n\r\n            //if the same color comes through twice, dont make it appear twice in the palette\r\n            if (convertedColor === arr[0]) {\r\n                return arr\r\n            }\r\n\r\n            if (indexOf === -1) {\r\n                return [convertedColor, arr[0], arr[1]]\r\n            }\r\n            indexOf === 2 ? newArr = [convertedColor, arr[0], arr[1]] : newArr = [convertedColor, arr[0], arr[2]]\r\n            return newArr\r\n        })\r\n    }\r\n\r\n    const handleTool = (e, classToAdd, idToFind) => {\r\n        setToolOpen((previousTool) => {\r\n            if (!previousTool) {\r\n                console.log('first')\r\n                document.querySelector(`#${idToFind}`).classList.toggle(classToAdd)\r\n                return idToFind\r\n            }\r\n            if (previousTool === idToFind) {\r\n                console.log('second')\r\n                return previousTool\r\n            }\r\n            console.log('third' + ' previous: ' +  previousTool + ' to add: ' +  classToAdd + ' to find: ' + idToFind)\r\n            document.querySelector(`#${previousTool}`).classList.add(classToAdd)\r\n            document.querySelector(`#${idToFind}`).classList.remove(classToAdd)\r\n            return idToFind\r\n        })\r\n    }\r\n\r\n    // this code layout is super odd but it works perfectly? \r\n    // I think it is because the react state hooks dont update within the same function when using them this way so manipulating the setDropDown data works fine even when the checks later in the method dont work as the code maybe looks\r\n    const handleOpenClose = (e, className, variable, setVar) => {\r\n        if (variable) {\r\n            setVar(false)\r\n            let divToClose = document.querySelector(`.${variable}`)\r\n            divToClose.classList.add(className)\r\n            if (variable === e.target.id) {\r\n                return\r\n            }\r\n        }\r\n        setVar(e.target.id)\r\n        let divToOpen = document.querySelector(`.${e.target.id}`)\r\n        divToOpen.classList.remove(className)\r\n    }\r\n    \r\n    const downloadImage = async (e) => {\r\n       let canvas = await document.querySelector('#canvas');\r\n\r\n       e(canvas)\r\n        .then(data => {\r\n            let img = new Image();\r\n            img.src = data\r\n            // document.body.appendChild(img)\r\n            let link = document.createElement(\"a\")\r\n            link.style.display = 'none';\r\n            console.log(data)\r\n            link.setAttribute('download', 'image')\r\n            link.setAttribute('href', data)\r\n            document.body.appendChild(link)\r\n            link.click();\r\n            link.remove();\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log('gone wrong: ', err)\r\n        })\r\n    }\r\n\r\n    const handleResize = (size) => {\r\n        setDimension((prev) => size)\r\n    }\r\n\r\n\r\n    // Store brush strokes after mouse click is lifted for Undo button history aswell as to send over to Multidraw peers\r\n    const storeHistory = (data) => {\r\n        webrtc.shout(\"paint-data\", data)\r\n        setNumber((previous) => {\r\n            storeKey(previous, data)\r\n            return previous + 1\r\n        })\r\n    }\r\n\r\n\r\n    // Grab Undo history from Session and remove strokes back to previous values\r\n    const handleUndo = () => {\r\n        if (number > 0) {\r\n            setMessage('Undo...')\r\n            setNumber((num) => {\r\n                let toRemove = getKey(num-1)\r\n                UndoRedo(toRemove, 'undo')\r\n                return num - 1\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleRedo = () => {\r\n        setMessage('Redo...')\r\n        setNumber((num) => {\r\n            let toRedo = getKey(num)\r\n            if (toRedo) {\r\n                UndoRedo(toRedo, 'redo')\r\n                return num + 1\r\n            }\r\n            return num\r\n        })\r\n    }\r\n\r\n\r\n    // capture current canvas and return in JSON stringified form.\r\n    const saveBoard = async () => {\r\n        let saveArray =[]\r\n        for (let i = 0; i < dimension; i++) {\r\n            for (let k = 0; k < dimension; k++) {\r\n                let toSave = document.getElementById(`[${i}, ${k}]`).style['background-color']\r\n                saveArray.push(toSave)\r\n            }\r\n        }\r\n        let JSONed = await JSON.stringify(saveArray)\r\n        return JSONed\r\n    }\r\n\r\n    const handleSave = async (name) => {\r\n        localStorage.setItem('save', await saveBoard())\r\n        setMessage('Canvas Saved...')\r\n    }\r\n\r\n    const handleLoad = async (name) => {\r\n        let colorArray = await JSON.parse(localStorage.getItem('save'))\r\n\r\n        if (!colorArray) {\r\n            return\r\n        }\r\n\r\n        if (dimension * dimension !== colorArray.length) {\r\n            setMessage(`Your save file is not the same dimension as your current canvas (${dimension} x ${dimension}) `)\r\n            return\r\n        }\r\n\r\n        handleReset()\r\n        let runningTotal = 0\r\n        for (let i = 0; i < dimension; i++) {\r\n            for (let k = 0; k < dimension; k++) {\r\n                let toChange = document.getElementById(`[${i}, ${k}]`)\r\n                toChange.style['background-color'] = colorArray[runningTotal]\r\n                runningTotal += 1\r\n            }\r\n        }\r\n        setMessage('Canvas Loaded...')\r\n    }\r\n\r\n    // clear canvas and history\r\n    const handleReset = () => {\r\n        sessionStorage.clear();\r\n        setNumber(0)\r\n        for (let i = 0; i < dimension; i++) {\r\n            for (let k = 0; k < dimension; k++) {\r\n                let toChange = document.getElementById(`[${i}, ${k}]`)\r\n                toChange.style['background-color'] = \"rgb(255,255,255)\"\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n      <div className=\"editor\">\r\n\r\n          <nav className=\"top-nav\">\r\n              <div className=\"dd-wrapper\">\r\n                <button id=\"File\" onClick={(e) => handleOpenClose(e, 'hidden', dropDownOpen, setDropDownOpen)}>File</button>\r\n                <div className=\"drop-down hidden File\">\r\n                    <button onClick={()=> downloadImage(toSvg)}>Download</button>\r\n                    <button onClick={()=> handleSave('save')}>Save</button>\r\n                    <button onClick={()=> handleLoad('save')}>Load</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"dd-wrapper\">\r\n                <button id=\"Edit\" onClick={(e) => handleOpenClose(e, 'hidden', dropDownOpen, setDropDownOpen)}>Edit</button>\r\n                <div className=\"drop-down hidden Edit\">\r\n                    <button style={{color: isOnline ? 'grey' : 'white'}} disabled={isOnline ? true : false} onClick={() => handleUndo()}>Undo</button>\r\n                    <button style={{color: isOnline ? 'grey' : 'white'}} disabled={isOnline ? true : false} onClick={() => handleRedo()}>Redo</button>\r\n                    <button style={{color: isOnline ? 'grey' : 'white'}} disabled={isOnline ? true : false} onClick={() => openModal(\"Resize\")}>Resize</button>\r\n                    <button onClick={() => handleReset()}>Reset</button>\r\n                    <button onClick={() => setGridLines(!gridLines)}>Gridlines</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"dd-wrapper\">\r\n                <button id=\"MultiDraw\" onClick={(e) => handleOpenClose(e, 'hidden', dropDownOpen, setDropDownOpen)}>MultiDraw</button>\r\n                <div className=\"drop-down hidden MultiDraw\">\r\n                    <button style={{color: isOnline ? 'grey' : 'white'}} disabled={isOnline ? true : false} onClick={() => openModal(\"MultiDraw\")}>Join</button>\r\n                    <button onClick={() => handleNetworkLeave()}>Leave</button>\r\n                </div>\r\n              </div>\r\n              <p ref={messagesRef} className=\"message-right\">{message}</p>\r\n          </nav>\r\n\r\n          <nav className=\"left-nav\">\r\n\r\n                <div className=\"current-color\">\r\n                    <div className=\"color color-main\" style={{backgroundColor: colorPalette[0]}}></div>\r\n                    <div className=\"color\" onClick={() => handleColor(colorPalette[1], false)} style={{backgroundColor: colorPalette[1]}}></div>\r\n                    <div className=\"color\" onClick={() => handleColor(colorPalette[2], false)} style={{backgroundColor: colorPalette[2]}}></div>\r\n                </div>\r\n\r\n                <Colors changeColor={handleColor}/>\r\n\r\n                <div className=\"button-wrapper\">\r\n                    <button id=\"brush\" className=\"left-button\" onClick={(e)=> {\r\n                        handleTool(e, 'left-inactive', 'brush')\r\n                    }}><BsBrush /></button>\r\n                    <button onClick={()=> brushSize < 3 ? setBrushSize(brushSize + 1) : null}>+</button>\r\n                    <button onClick={()=> brushSize > 1 ? setBrushSize(brushSize - 1) : null}>-</button>\r\n                </div>\r\n                { toolOpen === 'brush' && <Brush history={storeHistory} size={brushSize} currentColor={currentColor} /> }\r\n\r\n                <div className=\"button-wrapper\">\r\n                    <button id=\"bucket\" className=\"left-button left-inactive\" onClick={(e)=> {\r\n                        handleTool(e, 'left-inactive', 'bucket')\r\n                    }}><BsFillBucketFill />WIP</button>\r\n                </div>\r\n                \r\n          </nav>\r\n\r\n\r\n          <div className=\"canvas-container\">\r\n            <Canvas grid={gridLines} backgroundColor={backgroundColor} zoom={zoom} dimension={dimension}/>\r\n          </div>\r\n\r\n        { \r\n        modalOpen === \"MultiDraw\" && \r\n        <RoomModal\r\n            close={() => openModal(!modalOpen)} \r\n            handleNetwork={(text) => {\r\n              handleNewtworkJoin(text)\r\n              openModal(!modalOpen)\r\n            }}\r\n        />\r\n        }\r\n        { \r\n        modalOpen === 'Resize' && \r\n        <ResizeModal \r\n            dimension={dimension}\r\n            close={() => openModal(!modalOpen)}\r\n            handleResize={handleResize}\r\n        />\r\n        }\r\n      </div>\r\n    );\r\n}\r\n","import './Transition.scss'\r\n\r\nexport default function Transition(props) {\r\n    return (\r\n        <div className=\"page-cover\"></div>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\nimport './App.scss';\n\nimport Editor from './Modules/Editor/Editor'\nimport Transition from './Modules/Page Transition/Transition'\n\nfunction App() {\n  const [editor, openEditor] = useState(false)\n  const [transition, openTransition] = useState(false)\n  const [dimension, setDimension] = useState(16)\n\n  const updateDimensionCheck = (newNumber) => {\n    // current limits for pixel art is between 16 and 64. any higher than 64 and my current zoom function runs horrificly due to a re render every run\n    if (newNumber >= 16 && newNumber <= 64) {\n      setDimension(newNumber)\n    }\n  }\n\n  const startEditor = () => {\n    openTransition(true)\n    setTimeout(() => {\n      openEditor(true)\n    }, 500)\n    setTimeout(() => {\n      openTransition(false)\n    }, 1500)\n  }\n\n  return (\n    <div className=\"App\">\n      { editor ? <Editor dimension={dimension}/> : \n        <div className=\"homepage-container\">\n          <div className=\"homepage-header-div\">\n            <h1>React Pixel</h1>\n            <p>An application for creating pixel art on the web!</p>\n          </div>\n          <div className=\"dimension-div\">\n            <h4>Canvas Size: <span>{dimension}</span> X <span>{dimension}</span></h4>\n            <button onClick={() => updateDimensionCheck(dimension / 2)}>-</button>\n            <button onClick={() => updateDimensionCheck(dimension * 2)}>+</button>\n          </div>\n          <button className=\"start-button\" onClick={() => startEditor()}>START NOW</button>\n        </div>\n    }\n    { transition ? <Transition /> : null }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}